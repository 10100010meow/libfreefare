#!/bin/sh
cd $1

if [ "$BLD" = autotools ]; then
	set -x
	autoreconf -vis
	mkdir build-autotools
	cd build-autotools
	../configure --prefix=$HOME/.local CFLAGS="-I$HOME/.local/include" LDFLAGS="-L$HOME/.local/lib"
	make
	make install
elif [ "$BLD" = cmake ]; then
	set -x
	mkdir build-cmake
	cd build-cmake
	cmake -DCMAKE_INSTALL_PREFIX=$HOME/.local ..
	make
	make install
else
	echo "Unsupported build system: '$BLD'" >&2
	exit 1
fi
